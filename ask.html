<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ask</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" href="favicon.png" type="image/png">
<style>
    .ask-form input, .ask-form textarea, .ask-form button {
        display: block;
        width: 100%;
        margin-bottom: 1em;
        font-size: 1em;
    }
    .submission-message {
        display: none;
        color: green;
        font-weight: bold;
        margin-top: 1em;
    }
</style>
</head>
<body>
<header>
    <h1><u>mary <span>in</span> <span>the</span> real <span>world</span></u></h1>
    <nav>
        <a href="index.html">home</a>
        <a href="ask.html">ask</a>
        <a href="about.html">about</a>
    </nav>
</header>

<main>
    <h2>ask</h2>

    <form id="askForm" class="ask-form">
        <label>Your name (optional):</label>
        <input type="text" name="name" placeholder="anonymous">

        <label>Your question:</label>
        <textarea name="question" required placeholder="Write something"></textarea>

        <button type="submit">send</button>
    </form>

    <div class="submission-message" id="submissionMessage">
        Submission complete! Thank you.
    </div>
</main>

<script>
const form = document.getElementById('askForm');
const message = document.getElementById('submissionMessage');

form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const name = formData.get('name') || 'anonymous';
    const question = formData.get('question');
    const data = new FormData();
    data.append('message', `${name} asks: ${question}`);

    // send to FormSubmit
    const response = await fetch('https://formsubmit.co/el/fogure', {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
    });

    if(response.ok){
        message.style.display = 'block';
        form.reset();
    } else {
        alert('Oops! Something went wrong.');
    }
});
</script>

</body>
</html>
